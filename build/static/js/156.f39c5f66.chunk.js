(this["webpackJsonprdlink-admin-dashboard"]=this["webpackJsonprdlink-admin-dashboard"]||[]).push([[156],{1968:function(e,t,a){"use strict";a.r(t);var n=a(13),s=a(1),c=a(61),l=a.n(c),r=a(452),i=a(453),o=a(0),d=a(1064),u=a(972),j=a(916),b=a(973),v=a(974),O=a(451),p=a(127),h=a(454),f=a(455),x=a(1188),m=a(1129),g=a(6),E=function(e){var t=e.title,a=e.icon,n=e.color;return Object(g.jsx)(s.Fragment,{children:Object(g.jsx)("div",{className:"toastify-header pb-0",children:Object(g.jsxs)("div",{className:"title-wrapper",children:[Object(g.jsx)(O.a,{size:"sm",color:n,icon:a}),Object(g.jsx)("h6",{className:"toast-title",children:t})]})})})},y=function(e){var t=Object(s.useRef)(null),a=e.store,n=e.isRtl,c=e.dispatch,l=e.calendarsColor,r=e.calendarApi,i=e.setCalendarApi,O=e.handleAddEventSidebar,y=e.blankEvent,C=e.toggleSidebar,N=e.selectEvent,D=e.updateEvent;Object(s.useEffect)((function(){null===r&&i(t.current.getApi())}),[r]);var S={events:a.events.length?a.events:[],plugins:[v.a,j.b,b.a,u.a],initialView:"dayGridMonth",headerToolbar:{start:"sidebarToggle, prev,next, title",end:"dayGridMonth,listMonth"},editable:!0,eventResizableFromStart:!0,dragScroll:!0,dayMaxEvents:2,navLinks:!0,eventClassNames:function(e){var t=e.event,a=l[t._def.extendedProps.calendar];return["bg-light-".concat(a)]},eventClick:function(e){var t=e.event;c(N(t)),O()},customButtons:{sidebarToggle:{text:Object(g.jsx)(x.a,{className:"d-xl-none d-block"}),click:function(){C(!0)}}},dateClick:function(e){var t=y;t.start=e.date,t.end=e.date,c(N(t)),O()},eventDrop:function(e){var t=e.event;c(D(t)),p.f.success(Object(g.jsx)(E,{title:"Event Updated",color:"success",icon:Object(g.jsx)(m.a,{})}),{autoClose:2e3,hideProgressBar:!0,closeButton:!1})},eventResize:function(e){var t=e.event;c(D(t)),p.f.success(Object(g.jsx)(E,{title:"Event Updated",color:"success",icon:Object(g.jsx)(m.a,{})}),{autoClose:2e3,hideProgressBar:!0,closeButton:!1})},ref:t,direction:n?"rtl":"ltr"};return Object(g.jsx)(h.a,{className:"shadow-none border-0 mb-0 rounded-0",children:Object(g.jsxs)(f.a,{className:"pb-0",children:[Object(g.jsx)(d.a,Object(o.a)({},S))," "]})})},C=Object(s.memo)(y),N=(a(24),a(447)),D=a(1067),S=(a(695),a(121)),B=a(122),w=a(474),P=a.n(w),k=a(1227),T=a(1069),A=a(755),R=a(504),F=a(505),L=a(679),U=a(734),V=a(642),M=a(480),z=a(1070),G=a(472),H=a(467),_=a(470),J=a(29),q=a(66),I=a(65),Y=a(88),K=a(42),Q=a(238),W=(a(514),a(469),function(e){var t=e.title,a=e.icon,n=e.color;return Object(g.jsx)(s.Fragment,{children:Object(g.jsx)("div",{className:"toastify-header pb-0",children:Object(g.jsxs)("div",{className:"title-wrapper",children:[Object(g.jsx)(O.a,{size:"sm",color:n,icon:a}),Object(g.jsx)("h6",{className:"toast-title",children:t})]})})})}),X=function(e){var t=e.store,a=e.dispatch,c=e.open,r=e.handleAddEventSidebar,i=e.calendarsColor,d=e.calendarApi,u=e.refetchEvents,j=e.addEvent,b=e.selectEvent,v=e.updateEvent,h=e.removeEvent,f=t.selectedEvent,x=Object(F.c)(),E=x.register,y=x.errors,C=x.handleSubmit,w=Object(s.useState)(""),X=Object(n.a)(w,2),Z=X[0],$=X[1],ee=Object(s.useState)(""),te=Object(n.a)(ee,2),ae=te[0],ne=te[1],se=Object(s.useState)(""),ce=Object(n.a)(se,2),le=ce[0],re=ce[1],ie=Object(s.useState)({}),oe=Object(n.a)(ie,2),de=oe[0],ue=oe[1],je=Object(s.useState)(!1),be=Object(n.a)(je,2),ve=be[0],Oe=be[1],pe=Object(s.useState)(""),he=Object(n.a)(pe,2),fe=he[0],xe=he[1],me=Object(s.useState)(new Date),ge=Object(n.a)(me,2),Ee=ge[0],ye=ge[1],Ce=Object(s.useState)(new Date),Ne=Object(n.a)(Ce,2),De=Ne[0],Se=Ne[1],Be=Object(s.useState)([{value:"Business",label:"Business",color:"primary"}]),we=Object(n.a)(Be,2),Pe=we[0],ke=we[1],Te=[{value:"Donna Frank",label:"Donna Frank",avatar:J.default},{value:"Jane Foster",label:"Jane Foster",avatar:q.default},{value:"Gabrielle Robertson",label:"Gabrielle Robertson",avatar:I.default},{value:"Lori Spears",label:"Lori Spears",avatar:Y.default},{value:"Sandy Vega",label:"Sandy Vega",avatar:K.default},{value:"Cheryl May",label:"Cheryl May",avatar:Q.default}],Ae=function(){var e={id:f.id,title:le,allDay:ve,start:De,end:Ee,url:Z,extendedProps:{location:fe,description:ae,guests:de,calendar:Pe[0].label}};a(v(e)),function(e,t,a){for(var n=d.getEventById(e.id),s=0;s<t.length;s++){var c=t[s];n.setProp(c,e[c])}n.setDates(e.start,e.end,{allDay:e.allDay});for(var l=0;l<a.length;l++){var r=a[l];n.setExtendedProp(r,e.extendedProps[r])}}(e,["id","title","url"],["calendar","guests","location","description"]),r(),p.f.success(Object(g.jsx)(W,{title:"Event Updated",color:"success",icon:Object(g.jsx)(m.a,{})}),{autoClose:2e3,hideProgressBar:!0,closeButton:!1})},Re=function(){var e;a(h(f.id)),e=f.id,d.getEventById(e).remove(),r(),p.f.error(Object(g.jsx)(W,{title:"Event Removed",color:"danger",icon:Object(g.jsx)(k.a,{})}),{autoClose:2e3,hideProgressBar:!0,closeButton:!1})},Fe=function(){return Object(_.e)(f)||!Object(_.e)(f)&&!f.title.length?Object(g.jsxs)(s.Fragment,{children:[Object(g.jsx)(N.a.Ripple,{className:"mr-1",type:"submit",color:"primary",children:"Add"}),Object(g.jsx)(N.a.Ripple,{color:"secondary",type:"reset",onClick:r,outline:!0,children:"Cancel"})]}):Object(g.jsxs)(s.Fragment,{children:[Object(g.jsx)(N.a.Ripple,{className:"mr-1",color:"primary",children:"Update"}),Object(g.jsx)(N.a.Ripple,{color:"danger",onClick:Re,outline:!0,children:"Delete"})]})},Le=Object(g.jsx)(T.a,{className:"cursor-pointer",size:15,onClick:r});return Object(g.jsxs)(L.a,{isOpen:c,toggle:r,className:"sidebar-lg",contentClassName:"p-0",onOpened:function(){if(!Object(_.e)(f)){var e=f.extendedProps.calendar;re(f.title||le),Oe(f.allDay||ve),$(f.url||Z),xe(f.extendedProps.location||fe),ne(f.extendedProps.description||ae),ue(f.extendedProps.guests||de),Se(new Date(f.start)),ye(f.allDay?new Date(f.start):new Date(f.end)),ke([e.length?{label:e,value:e,color:i[e]}:{value:"Business",label:"Business",color:"primary"}])}},onClosed:function(){a(b({})),re(""),Oe(!1),$(""),xe(""),ne(""),ue({}),ke([{value:"Business",label:"Business",color:"primary"}]),Se(new Date),ye(new Date)},modalClassName:"modal-slide-in event-sidebar",children:[Object(g.jsx)(U.a,{className:"mb-1",toggle:r,close:Le,tag:"div",children:Object(g.jsxs)("h5",{className:"modal-title",children:[f&&f.title&&f.title.length?"Update":"Add"," Event"]})}),Object(g.jsx)(V.a,{className:"flex-grow-1 pb-sm-0 pb-3",children:Object(g.jsxs)(M.a,{onSubmit:C((function(e){Object(_.e)(y)&&(Object(_.e)(f)||!Object(_.e)(f)&&!f.title.length?function(){var e={title:le,start:De,end:Ee,allDay:ve,display:"block",extendedProps:{calendar:Pe[0].label,url:Z.length?Z:void 0,guests:de.length?de:void 0,location:fe.length?fe:void 0,desc:ae.length?ae:void 0}};a(j(e)),u(),r(),p.f.success(Object(g.jsx)(W,{title:"Event Added",color:"success",icon:Object(g.jsx)(m.a,{})}),{autoClose:2e3,hideProgressBar:!0,closeButton:!1})}():Ae(),r())})),children:[Object(g.jsxs)(z.a,{children:[Object(g.jsxs)(G.a,{for:"title",children:["Title ",Object(g.jsx)("span",{className:"text-danger",children:"*"})]}),Object(g.jsx)(H.a,{id:"title",name:"title",placeholder:"Title",value:le,onChange:function(e){return re(e.target.value)},innerRef:E({register:!0,validate:function(e){return""!==e}}),className:l()({"is-invalid":y.title})})]}),Object(g.jsxs)(z.a,{children:[Object(g.jsx)(G.a,{for:"label",children:"Label"}),Object(g.jsx)(R.a,{id:"label",value:Pe,options:[{value:"Business",label:"Business",color:"primary"},{value:"Personal",label:"Personal",color:"danger"},{value:"Family",label:"Family",color:"warning"},{value:"Holiday",label:"Holiday",color:"success"},{value:"ETC",label:"ETC",color:"info"}],theme:_.h,className:"react-select",classNamePrefix:"select",isClearable:!1,onChange:function(e){return ke([e])},components:{Option:function(e){var t=e.data,a=Object(B.a)(e,["data"]);return Object(g.jsxs)(A.e.Option,Object(o.a)(Object(o.a)({},a),{},{children:[Object(g.jsx)("span",{className:"bullet bullet-".concat(t.color," bullet-sm mr-50")}),t.label]}))}}})]}),Object(g.jsxs)(z.a,{children:[Object(g.jsx)(G.a,{for:"startDate",children:"Start Date"}),Object(g.jsx)(P.a,{required:!0,id:"startDate",name:"startDate",className:"form-control",onChange:function(e){return Se(e[0])},value:De,options:{enableTime:!1===ve,dateFormat:"Y-m-d H:i"}})]}),Object(g.jsxs)(z.a,{children:[Object(g.jsx)(G.a,{for:"endDate",children:"End Date"}),Object(g.jsx)(P.a,{required:!0,id:"endDate",name:"endDate",className:"form-control",onChange:function(e){return ye(e[0])},value:Ee,options:{enableTime:!1===ve,dateFormat:"Y-m-d H:i"}})]}),Object(g.jsx)(z.a,{children:Object(g.jsx)(D.a,{type:"switch",id:"allDay",name:"customSwitch",label:"All Day",checked:ve,onChange:function(e){return Oe(e.target.checked)},inline:!0})}),Object(g.jsxs)(z.a,{children:[Object(g.jsx)(G.a,{for:"eventURL",children:"Event URL"}),Object(g.jsx)(H.a,{type:"url",id:"eventURL",value:Z,onChange:function(e){return $(e.target.value)},placeholder:"https://www.google.com"})]}),Object(g.jsxs)(z.a,{children:[Object(g.jsx)(G.a,{for:"guests",children:"Guests"}),Object(g.jsx)(R.a,{isMulti:!0,id:"guests",className:"react-select",classNamePrefix:"select",isClearable:!1,options:Te,theme:_.h,value:de.length?Object(S.a)(de):null,onChange:function(e){return ue(Object(S.a)(e))},components:{Option:function(e){var t=e.data,a=Object(B.a)(e,["data"]);return Object(g.jsx)(A.e.Option,Object(o.a)(Object(o.a)({},a),{},{children:Object(g.jsxs)("div",{className:"d-flex flex-wrap align-items-center",children:[Object(g.jsx)(O.a,{className:"my-0 mr-1",size:"sm",img:t.avatar}),Object(g.jsx)("div",{children:t.label})]})}))}}})]}),Object(g.jsxs)(z.a,{children:[Object(g.jsx)(G.a,{for:"location",children:"Location"}),Object(g.jsx)(H.a,{id:"location",value:fe,onChange:function(e){return xe(e.target.value)},placeholder:"Office"})]}),Object(g.jsxs)(z.a,{children:[Object(g.jsx)(G.a,{for:"description",children:"Description"}),Object(g.jsx)(H.a,{type:"textarea",name:"text",id:"description",rows:"3",value:ae,onChange:function(e){return ne(e.target.value)},placeholder:"Description"})]}),Object(g.jsx)(z.a,{className:"d-flex",children:Object(g.jsx)(Fe,{})})]})})]})},Z=a(572),$=a(120),ee=a(84),te=a.n(ee),ae=function(e){return function(t){te.a.get("/apps/calendarBrands/events",{calendars:e}).then((function(e){t({type:"FETCH_EVENTS",events:e.data})}))}},ne=function(e){return function(t,a){te.a.post("/apps/calendarBrands/add-event",{event:e}).then((function(){t({type:"ADD_EVENT"}),t(ae(a().calendar.selectedCalendars))}))}},se=function(e){return function(t){te.a.post("/apps/calendarBrands/update-event",{event:e}).then((function(){t({type:"UPDATE_EVENT"})}))}},ce=function(e){return function(t){te.a.delete("/apps/calendarBrands/remove-event",{id:e}).then((function(){t({type:"REMOVE_EVENT"})}))}},le=function(e){return function(t){t({type:"SELECT_EVENT",event:e})}},re=(a(780),{Business:"primary",Holiday:"success",Personal:"danger",Family:"warning",ETC:"info"});t.default=function(){var e=Object($.b)(),t=Object($.c)((function(e){return e.calendar})),a=Object(s.useState)(!1),c=Object(n.a)(a,2),o=c[0],d=c[1],u=Object(s.useState)(!1),j=Object(n.a)(u,2),b=j[0],v=j[1],O=Object(s.useState)(null),p=Object(n.a)(O,2),h=p[0],f=p[1],x=Object(Z.a)(),m=Object(n.a)(x,2),E=m[0],y=(m[1],function(){return d(!o)}),N=function(e){return v(e)};return Object(s.useEffect)((function(){e(ae(t.selectedCalendars))}),[]),Object(g.jsxs)(s.Fragment,{children:[Object(g.jsx)("div",{className:"app-calendar overflow-hidden border",children:Object(g.jsxs)(r.a,{noGutters:!0,children:[Object(g.jsx)(i.a,{className:"position-relative",children:Object(g.jsx)(C,{isRtl:E,store:t,dispatch:e,blankEvent:{title:"",start:"",end:"",allDay:!1,url:"",extendedProps:{calendar:"",guests:[],location:"",description:""}},calendarApi:h,selectEvent:le,updateEvent:se,toggleSidebar:N,calendarsColor:re,setCalendarApi:f,handleAddEventSidebar:y})}),Object(g.jsx)("div",{className:l()("body-content-overlay",{show:!0===b}),onClick:function(){return N(!1)}})]})}),Object(g.jsx)(X,{store:t,dispatch:e,addEvent:ne,open:o,selectEvent:le,updateEvent:se,removeEvent:ce,calendarApi:h,refetchEvents:function(){null!==h&&h.refetchEvents()},calendarsColor:re,handleAddEventSidebar:y})]})}},469:function(e,t,a){},695:function(e,t,a){"use strict";a.r(t),t.default=a.p+"static/media/calendar-illustration.42be42ce.png"},780:function(e,t,a){}}]);
//# sourceMappingURL=156.f39c5f66.chunk.js.map