(this["webpackJsonprdlink-admin-dashboard"]=this["webpackJsonprdlink-admin-dashboard"]||[]).push([[186],{1976:function(e,a,s){"use strict";s.r(a);var t=s(13),c=s(1),n=s(0),i=s(39),l=s.n(i),r=s(455),d=s(123),j=s(85),o=s.n(j),b=function(){return function(e){o.a.get("/apps/chatRd/chats-and-contacts").then((function(a){e({type:"GET_CHAT_CONTACTS",data:a.data})}))}},h=function(e){return function(a){o.a.get("/apps/chatRd/get-chat",{id:e}).then((function(e){a({type:"SELECT_CHAT",data:e.data}),a(b())}))}},m=s(61),u=s.n(m),O=s(487),x=s.n(O),N=s(1175),f=s(1263),g=s(1247),p=s(1287),v=s(486),y=s(481),S=s(471),w=s(482),C=s(467),k=s(476),z=s(451),R=s(6),E=function(e){var a=e.handleUser,s=e.handleUserSidebarRight,i=e.handleSidebar,j=e.store,b=e.userSidebarLeft,m=j.userProfile,O=j.selectedUser,E=Object(c.useRef)(null),T=Object(d.b)(),I=Object(c.useState)(""),L=Object(t.a)(I,2),A=L[0],P=L[1];Object(c.useEffect)((function(){Object.keys(O).length&&(l.a.findDOMNode(E.current).scrollTop=Number.MAX_SAFE_INTEGER)}),[O]);var U=function(e){var a;e.preventDefault(),A.length&&(T((a=Object(n.a)(Object(n.a)({},O),{},{message:A}),function(e){o.a.post("/apps/chatRd/send-msg",{obj:a}).then((function(s){e({type:"SEND_MSG",data:s.data}),e(h(a.contact.id))}))})),P(""))},_=Object.keys(O).length&&O.chat?x.a:"div";return Object(R.jsxs)("div",{className:"chat-app-window",children:[Object(R.jsxs)("div",{className:u()("start-chat-area",{"d-none":Object.keys(O).length}),children:[Object(R.jsx)("div",{className:"start-chat-icon mb-1",children:Object(R.jsx)(N.a,{})}),Object(R.jsx)("h4",{className:"sidebar-toggle start-chat-text",onClick:function(){!Object.keys(O).length&&!b&&window.innerWidth<=1200&&i()},children:"Start Conversation"})]}),Object.keys(O).length?Object(R.jsxs)("div",{className:u()("active-chat",{"d-none":null===O}),children:[Object(R.jsx)("div",{className:"chat-navbar",children:Object(R.jsx)("header",{className:"chat-header",children:Object(R.jsxs)("div",{className:"d-flex align-items-center",children:[Object(R.jsx)("div",{className:"sidebar-toggle d-block d-lg-none mr-1",onClick:i,children:Object(R.jsx)(f.a,{size:21})}),Object(R.jsx)(r.a,{imgHeight:"36",imgWidth:"36",img:O.contact.avatar,status:O.contact.status,className:"avatar-border user-profile-toggle m-0 mr-1",onClick:function(){return e=O.contact,s(),void a(e);var e}}),Object(R.jsx)("h6",{className:"mb-0",children:O.contact.fullName})]})})}),Object(R.jsx)(_,{ref:E,className:"user-chats",options:{wheelPropagation:!1},children:O.chat?Object(R.jsx)("div",{className:"chats",children:function(){var e=[];O.chat&&(e=O.chat.chat);var a=[],s=e[0]?e[0].senderId:void 0,t={senderId:s,messages:[]};return e.forEach((function(c,n){s===c.senderId?t.messages.push({msg:c.message,time:c.time}):(s=c.senderId,a.push(t),t={senderId:c.senderId,messages:[{msg:c.message,time:c.time}]}),n===e.length-1&&a.push(t)})),a}().map((function(e,a){return Object(R.jsxs)("div",{className:u()("chat",{"chat-left":11!==e.senderId}),children:[Object(R.jsx)("div",{className:"chat-avatar",children:Object(R.jsx)(r.a,{className:"box-shadow-1 cursor-pointer",img:11===e.senderId?m.avatar:O.contact.avatar})}),Object(R.jsx)("div",{className:"chat-body",children:e.messages.map((function(e){return Object(R.jsx)("div",{className:"chat-content",children:Object(R.jsx)("p",{children:e.msg})},e.msg)}))})]},a)}))}):null}),Object(R.jsxs)(v.a,{className:"chat-app-form",onSubmit:function(e){return U(e)},children:[Object(R.jsxs)(y.a,{className:"input-group-merge mr-1 form-send-message",children:[Object(R.jsx)(S.a,{value:A,onChange:function(e){return P(e.target.value)},placeholder:"Type your message"}),Object(R.jsx)(w.a,{addonType:"append",children:Object(R.jsx)(C.a,{children:Object(R.jsxs)(k.a,{className:"attachment-icon mb-0",for:"attach-doc",children:[Object(R.jsx)(g.a,{className:"cursor-pointer text-secondary",size:14}),Object(R.jsx)("input",{type:"file",id:"attach-doc",hidden:!0})]})})})]}),Object(R.jsxs)(z.a,{className:"send",color:"primary",children:[Object(R.jsx)(p.a,{size:14,className:"d-lg-none"}),Object(R.jsx)("span",{className:"d-none d-lg-block",children:"Send"})]})]})]}):null]})},T=s(124),I=(s(473),s(1143)),L=s(1174),A=s(1196),P=s(1172),U=s(1303),_=s(1182),D=s(461),F=(s(1169),s(1141)),H=function(e){var a=e.store,s=e.sidebar,n=e.handleSidebar,i=e.userSidebarLeft,l=e.handleUserSidebarLeft,j=a.chats,o=a.contacts,b=a.userProfile,m=Object(d.b)(),O=Object(c.useState)(""),N=Object(t.a)(O,2),f=N[0],g=N[1],p=Object(c.useState)(""),v=Object(t.a)(p,2),k=v[0],E=v[1],H=Object(c.useState)({}),M=Object(t.a)(H,2),W=M[0],G=M[1],J=Object(c.useState)("online"),V=Object(t.a)(J,2),X=V[0],q=V[1],B=Object(c.useState)([]),K=Object(t.a)(B,2),Q=(K[0],K[1]),Y=Object(c.useState)([]),Z=Object(t.a)(Y,2),$=Z[0],ee=Z[1],ae=function(e,a){m(h(a)),G({type:e,id:a}),!0===s&&n()};return a?Object(R.jsx)("div",{className:"sidebar-left",children:Object(R.jsxs)("div",{className:"sidebar",children:[Object(R.jsxs)("div",{className:u()("chat-profile-sidebar",{show:i}),children:[Object(R.jsxs)("header",{className:"chat-profile-header",children:[Object(R.jsx)("div",{className:"close-icon",onClick:l,children:Object(R.jsx)(I.a,{size:14})}),Object(R.jsxs)("div",{className:"header-profile-sidebar",children:[Object(R.jsx)(r.a,{className:"box-shadow-1 avatar-border",img:b.avatar,status:X,size:"xl"}),Object(R.jsx)("h4",{className:"chat-user-name",children:b.fullName}),Object(R.jsx)("span",{className:"user-post",children:b.role})]})]}),Object(R.jsxs)(x.a,{className:"profile-sidebar-area",options:{wheelPropagation:!1},children:[Object(R.jsx)("h6",{className:"section-label mb-1",children:"About"}),Object(R.jsxs)("div",{className:"about-user",children:[Object(R.jsx)(S.a,{rows:"5",defaultValue:b.about,type:"textarea",onChange:function(e){return g(e.target.value)},className:u()("char-textarea",{"text-danger":f&&f.length>120})}),Object(R.jsxs)("small",{className:"counter-value float-right",children:[Object(R.jsx)("span",{className:"char-count",children:b.about?b.about.length:0}),"/ 120"]})]}),Object(R.jsx)("h6",{className:"section-label mb-1 mt-3",children:"Status"}),Object(R.jsxs)("ul",{className:"list-unstyled user-status",children:[Object(R.jsx)("li",{className:"pb-1",children:Object(R.jsx)(F.a,{type:"radio",className:"custom-control-primary",id:"online",label:"Online",onChange:function(e){return q("online")},checked:"online"===X})}),Object(R.jsx)("li",{className:"pb-1",children:Object(R.jsx)(F.a,{type:"radio",className:"custom-control-danger",id:"busy",label:"Do Not Disturb",onChange:function(e){return q("busy")},checked:"busy"===X})}),Object(R.jsx)("li",{className:"pb-1",children:Object(R.jsx)(F.a,{type:"radio",className:"custom-control-warning",id:"away",label:"Away",onChange:function(e){return q("away")},checked:"away"===X})}),Object(R.jsx)("li",{className:"pb-1",children:Object(R.jsx)(F.a,{type:"radio",className:"custom-control-secondary",id:"offline",label:"Offline",onChange:function(e){return q("offline")},checked:"offline"===X})})]}),Object(R.jsx)("h6",{className:"section-label mb-1 mt-2",children:"Settings"}),Object(R.jsxs)("ul",{className:"list-unstyled",children:[Object(R.jsxs)("li",{className:"d-flex justify-content-between align-items-center mb-1",children:[Object(R.jsxs)("div",{className:"d-flex align-items-center",children:[Object(R.jsx)(L.a,{className:"mr-75",size:"18"}),Object(R.jsx)("span",{className:"align-middle",children:"Two-step Verification"})]}),Object(R.jsx)(F.a,{type:"switch",id:"verification",name:"verification",label:"",defaultChecked:!0})]}),Object(R.jsxs)("li",{className:"d-flex justify-content-between align-items-center mb-1",children:[Object(R.jsxs)("div",{className:"d-flex align-items-center",children:[Object(R.jsx)(A.a,{className:"mr-75",size:"18"}),Object(R.jsx)("span",{className:"align-middle",children:"Notification"})]}),Object(R.jsx)(F.a,{type:"switch",id:"notifications",name:"notifications",label:""})]}),Object(R.jsxs)("li",{className:"d-flex align-items-center cursor-pointer mb-1",children:[Object(R.jsx)(P.a,{className:"mr-75",size:"18"}),Object(R.jsx)("span",{className:"align-middle",children:"Invite Friends"})]}),Object(R.jsxs)("li",{className:"d-flex align-items-center cursor-pointer",children:[Object(R.jsx)(U.a,{className:"mr-75",size:"18"}),Object(R.jsx)("span",{className:"align-middle",children:"Delete Account"})]})]}),Object(R.jsx)("div",{className:"mt-3",children:Object(R.jsx)(z.a,{color:"primary",children:"Logout"})})]})]}),Object(R.jsxs)("div",{className:u()("sidebar-content",{show:!0===s}),children:[Object(R.jsx)("div",{className:"sidebar-close-icon",onClick:n,children:Object(R.jsx)(I.a,{size:14})}),Object(R.jsx)("div",{className:"chat-fixed-search",children:Object(R.jsxs)("div",{className:"d-flex align-items-center w-100",children:[Object(R.jsx)("div",{className:"sidebar-profile-toggle",onClick:l,children:Object.keys(b).length?Object(R.jsx)(r.a,{className:"avatar-border",img:b.avatar,status:X,imgHeight:"42",imgWidth:"42"}):null}),Object(R.jsxs)(y.a,{className:"input-group-merge ml-1 w-100",children:[Object(R.jsx)(w.a,{addonType:"prepend",children:Object(R.jsx)(C.a,{className:"round",children:Object(R.jsx)(_.a,{className:"text-muted",size:14})})}),Object(R.jsx)(S.a,{value:k,className:"round",placeholder:"Search or start a new chat",onChange:function(e){E(e.target.value);var a=function(a){return a.fullName.toLowerCase().includes(e.target.value.toLowerCase())},s=j.filter(a),t=o.filter(a);Q(Object(T.a)(s)),ee(Object(T.a)(t))}})]})]})}),Object(R.jsxs)(x.a,{className:"chat-user-list-wrapper list-group",options:{wheelPropagation:!1},children:[Object(R.jsx)("h4",{className:"chat-list-title",children:"Contacts"}),Object(R.jsx)("ul",{className:"chat-users-list contact-list media-list",children:o&&o.length?k.length&&!$.length?Object(R.jsx)("li",{className:"no-results show",children:Object(R.jsx)("h6",{className:"mb-0",children:"No Chats Found"})}):(k.length&&$.length?$:o).map((function(e){return Object(R.jsxs)("li",{className:u()({active:"contact"===W.type&&W.id===e.id}),onClick:function(){return ae("contact",e.id)},children:[Object(R.jsx)(r.a,{img:e.avatar,imgHeight:"42",imgWidth:"42"}),Object(R.jsxs)("div",{className:"chat-info flex-grow-1",children:[Object(R.jsx)("h5",{className:"mb-0",children:e.fullName}),Object(R.jsx)(D.a,{className:"text-truncate",children:e.about})]})]},e.fullName)})):null})]})]})]})}):null},M=s(1173),W=s(1274),G=s(1212),J=function(e){var a=e.user,s=e.handleUserSidebarRight,t=e.userSidebarRight;return Object(R.jsxs)("div",{className:u()("user-profile-sidebar",{show:!0===t}),children:[Object(R.jsxs)("header",{className:"user-profile-header",children:[Object(R.jsx)("span",{className:"close-icon",onClick:s,children:Object(R.jsx)(I.a,{size:14})}),Object(R.jsxs)("div",{className:"header-profile-sidebar",children:[Object(R.jsx)(r.a,{className:"box-shadow-1 avatar-border",size:"xl",status:a.status,img:a.avatar,imgHeight:"70",imgWidth:"70"}),Object(R.jsx)("h4",{className:"chat-user-name",children:a.fullName}),Object(R.jsx)("span",{className:"user-post",children:a.role})]})]}),Object(R.jsxs)(x.a,{className:"user-profile-sidebar-area",options:{wheelPropagation:!1},children:[Object(R.jsx)("h6",{className:"section-label mb-1",children:"About"}),Object(R.jsx)("p",{children:a.about}),Object(R.jsxs)("div",{className:"personal-info",children:[Object(R.jsx)("h6",{className:"section-label mb-1 mt-3",children:"Personal Information"}),Object(R.jsxs)("ul",{className:"list-unstyled",children:[Object(R.jsxs)("li",{className:"mb-1",children:[Object(R.jsx)(M.a,{className:"mr-50",size:17}),Object(R.jsx)("span",{className:"align-middle",children:"lucifer@email.com"})]}),Object(R.jsxs)("li",{className:"mb-1",children:[Object(R.jsx)(W.a,{className:"mr-50",size:17}),Object(R.jsx)("span",{className:"align-middle",children:" +1(123) 456 - 7890"})]}),Object(R.jsxs)("li",{children:[Object(R.jsx)(G.a,{className:"mr-50",size:17}),Object(R.jsx)("span",{className:"align-middle",children:" Mon - Fri 10AM - 8PM"})]})]})]})]})]})};s(943),s(756),a.default=function(){var e=Object(d.b)(),a=Object(d.c)((function(e){return e.chat})),s=Object(c.useState)({}),n=Object(t.a)(s,2),i=n[0],l=n[1],r=Object(c.useState)(!1),j=Object(t.a)(r,2),h=j[0],m=j[1],O=Object(c.useState)(!1),x=Object(t.a)(O,2),N=x[0],f=x[1],g=Object(c.useState)(!1),p=Object(t.a)(g,2),v=p[0],y=p[1],S=function(){return m(!h)},w=function(){return f(!N)};return Object(c.useEffect)((function(){e(b()),e((function(e){return o.a.get("/apps/chatRd/users/profile-user").then((function(a){return e({type:"GET_USER_PROFILE",userProfile:a.data})}))}))}),[e]),Object(R.jsxs)(c.Fragment,{children:[Object(R.jsx)(H,{store:a,sidebar:h,handleSidebar:S,userSidebarLeft:v,handleUserSidebarLeft:function(){return y(!v)}}),Object(R.jsx)("div",{className:"content-right",children:Object(R.jsx)("div",{className:"content-wrapper",children:Object(R.jsxs)("div",{className:"content-body",children:[Object(R.jsx)("div",{className:u()("body-content-overlay",{show:!0===N||!0===h||!0===v}),onClick:function(){m(!1),f(!1),y(!1)}}),Object(R.jsx)(E,{store:a,handleUser:function(e){return l(e)},handleSidebar:S,userSidebarLeft:v,handleUserSidebarRight:w}),Object(R.jsx)(J,{user:i,userSidebarRight:N,handleUserSidebarRight:w})]})})})]})}}}]);
//# sourceMappingURL=186.abac8895.chunk.js.map